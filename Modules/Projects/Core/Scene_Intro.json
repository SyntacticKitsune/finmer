{
	"!Type": "AssetScene",
	"AssetID": "ab250357-19c3-4e27-9c8f-505e01f329af",
	"AssetName": "Scene_Intro",
	"IsPatch": false,
	"Root": {
		"Key": "Root",
		"IsState": false,
		"IsLink": false,
		"Title": "Root",
		"Highlight": false,
		"ButtonWidth": 1.0,
		"Children": [
			{
				"Key": "Start",
				"IsState": true,
				"IsLink": false,
				"ScriptAction": {
					"!Type": "ScriptDataInline",
					"Script": "SetInventoryEnabled(false)\r\nClearLog()\r\nLog(\"WELCOME\", Color.Gray)\r\nLog(\"TUTORIAL_PROMPT\")"
				},
				"Children": [
					{
						"IsState": false,
						"IsLink": false,
						"Title": "Nah, I'm good",
						"Highlight": false,
						"ButtonWidth": 1.0,
						"ScriptAction": {
							"!Type": "ScriptDataInline",
							"Script": "BeginGame()"
						},
						"Children": []
					},
					{
						"IsState": false,
						"IsLink": false,
						"Title": "Yes please!",
						"Highlight": false,
						"ButtonWidth": 1.25,
						"ScriptAction": {
							"!Type": "ScriptDataInline",
							"Script": "SetScene(\"Scene_Tutorial\")"
						},
						"Children": []
					},
					{
						"IsState": false,
						"IsLink": false,
						"Title": "Debug Menu",
						"Tooltip": "Here be dragons",
						"Highlight": true,
						"ButtonWidth": 1.0,
						"ScriptAppear": {
							"!Type": "ScriptDataInline",
							"Script": "return IsDebugMode()"
						},
						"Children": [
							{
								"Key": "DebugMenu",
								"IsState": true,
								"IsLink": false,
								"ScriptAction": {
									"!Type": "ScriptDataInline",
									"Script": "-- Always set up inventory when entering the game\r\nApplyPlayerStartingGear()"
								},
								"Children": [
									{
										"IsState": false,
										"IsLink": false,
										"Title": "(Back)",
										"Highlight": false,
										"ButtonWidth": 0.6,
										"Children": [
											{
												"IsState": true,
												"IsLink": true,
												"LinkTarget": "Start"
											}
										]
									},
									{
										"IsState": false,
										"IsLink": false,
										"Title": "Teleports",
										"Highlight": false,
										"ButtonWidth": 1.0,
										"Children": [
											{
												"IsState": true,
												"IsLink": false,
												"Children": [
													{
														"Key": "DebugSubMenuBack",
														"IsState": false,
														"IsLink": false,
														"Title": "(Back)",
														"Highlight": false,
														"ButtonWidth": 0.6,
														"Children": [
															{
																"IsState": true,
																"IsLink": true,
																"LinkTarget": "DebugMenu"
															}
														]
													},
													{
														"IsState": false,
														"IsLink": false,
														"Title": "Go to Inn",
														"Highlight": false,
														"ButtonWidth": 1.0,
														"ScriptAction": {
															"!Type": "ScriptDataInline",
															"Script": "SetTimeHour(2)\r\nStorage.SetFlag(\"TOWN_FIRST\", true)\r\nStorage.SetFlag(\"TOWN_INN_RENTED_ROOM\", true) -- Technically a sequence break, but useful for testing\r\nSetScene(\"Scene_TownInn\")"
														},
														"Children": []
													},
													{
														"IsState": false,
														"IsLink": false,
														"Title": "Go to MQ02 RoadEnc",
														"Highlight": false,
														"ButtonWidth": 1.0,
														"ScriptAction": {
															"!Type": "ScriptDataInline",
															"Script": "Storage.SetFlag(\"TOWN_FIRST\", true)\r\nStorage.SetFlag(\"TOWN_INN_RENTED_ROOM\", true)\r\nStorage.SetFlag(\"MQ01_STARTED\", true)\r\nStorage.SetFlag(\"MQ01_DONE\", true)\r\nStorage.SetFlag(\"MQ02_ROAD_ANTAG_SCHEDULED\", true)\r\nStorage.SetFlag(\"MQ02_OLIVER_R_SPILL_WOLF\", true)\r\nSetScene(\"Scene_RoadEnc\")"
														},
														"Children": []
													},
													{
														"IsState": false,
														"IsLink": false,
														"Title": "Go to MQ02 Done",
														"Highlight": false,
														"ButtonWidth": 1.0,
														"ScriptAction": {
															"!Type": "ScriptDataInline",
															"Script": "Storage.SetFlag(\"TOWN_FIRST\", true)\r\nStorage.SetFlag(\"TOWN_INN_RENTED_ROOM\", true)\r\nStorage.SetFlag(\"MQ01_STARTED\", true)\r\nStorage.SetFlag(\"MQ01_DONE\", true)\r\nStorage.SetFlag(\"MQ02_DONE\", true)\r\nSetScene(\"Scene_TownMarket\")"
														},
														"Children": []
													},
													{
														"IsState": false,
														"IsLink": false,
														"Title": "Go to MQ03 Port",
														"Highlight": false,
														"ButtonWidth": 1.0,
														"ScriptAction": {
															"!Type": "ScriptDataInline",
															"Script": "Storage.SetFlag(\"TOWN_FIRST\", true)\r\nStorage.SetFlag(\"TOWN_INN_RENTED_ROOM\", true)\r\nStorage.SetFlag(\"MQ01_STARTED\", true)\r\nStorage.SetFlag(\"MQ01_DONE\", true)\r\nStorage.SetFlag(\"MQ02_DONE\", true)\r\nStorage.SetFlag(\"MQ03_STARTED\", true)\r\nStorage.SetFlag(\"MQ03_RODE_SOUTH\", true)\r\nStorage.SetFlag(\"BRIDGE_IS_REPAIRED\", true)\r\nJournal.Update(\"MQ03\", 40)\r\nSetScene(\"Scene_PortCentral\")"
														},
														"Children": []
													},
													{
														"IsState": false,
														"IsLink": false,
														"Title": "Go to Forest Edge",
														"Tooltip": "For testing SQ02 / MQ02",
														"Highlight": false,
														"ButtonWidth": 1.0,
														"ScriptAction": {
															"!Type": "ScriptDataInline",
															"Script": "Storage.SetFlag(\"TOWN_FIRST\", true)\r\nStorage.SetFlag(\"TOWN_INN_RENTED_ROOM\", true)\r\nStorage.SetFlag(\"MQ01_STARTED\", true)\r\nStorage.SetFlag(\"MQ01_DONE\", true)\r\nStorage.SetNumber(\"SQ02\", 1)\r\nJournal.Update(\"SQ02\", 10)\r\nJournal.Update(\"MQ02\", 10)\r\nSetScene(\"Scene_ForestCottage\")"
														},
														"Children": []
													},
													{
														"IsState": false,
														"IsLink": false,
														"Title": "Go to Pit",
														"Tooltip": "Level 3",
														"Highlight": false,
														"ButtonWidth": 1.0,
														"ScriptAction": {
															"!Type": "ScriptDataInline",
															"Script": "Player:AwardXP(300)\r\nPlayer:GiveItem(\"W_SwordSteel\")\r\nStorage.SetFlag(\"TOWN_FIRST\", true)\r\nStorage.SetFlag(\"TOWN_INN_RENTED_ROOM\", true)\r\nStorage.SetFlag(\"TOWN_PIT_UNLOCKED\", true)\r\nSetScene(\"Scene_TownPit\")"
														},
														"Children": []
													}
												]
											}
										]
									},
									{
										"IsState": false,
										"IsLink": false,
										"Title": "System Tests",
										"Highlight": false,
										"ButtonWidth": 1.0,
										"Children": [
											{
												"Key": "SysTestsRoot",
												"IsState": true,
												"IsLink": false,
												"Children": [
													{
														"IsState": false,
														"IsLink": true,
														"LinkTarget": "DebugSubMenuBack"
													},
													{
														"IsState": false,
														"IsLink": false,
														"Title": "Shop test",
														"Highlight": false,
														"ButtonWidth": 1.0,
														"ScriptAction": {
															"!Type": "ScriptDataInline",
															"Script": "-- Give the player some random items\r\nif not Player:HasItem(\"I_PitInvite\") then Player:GiveItem(\"I_PitInvite\") end\r\nif not Player:HasItem(\"U_FoodBread\") then Player:GiveItem(\"U_FoodBread\") end\r\nif not Player:HasItem(\"I_SQ01_Vial\") then Player:GiveItem(\"I_SQ01_Vial\") end\r\nif not Player:HasItem(\"A_LeatherArmor\") then Player:GiveItem(\"A_LeatherArmor\") end\r\nif not Player:HasItem(\"A_ClothArmor\") then Player:GiveItem(\"A_ClothArmor\") end\r\n\r\n-- Launch shop\r\nlocal shop = Shop(\"Test\")\r\nshop.Title = \"Magickal Potion Shoppe\"\r\nshop.RestockInterval = 24\r\nif shop.RestockRequired then\r\n    shop:MarkRestocked()\r\n    shop:RemoveDefaultStock()\r\n    shop:AddItem(Item(\"U_PotionDigestResist\"))\r\n    shop:AddItem(Item(\"AC_CharmFight\"))\r\n    shop:AddItem(Item(\"U_FoodGrapes\"))\r\n    shop:AddItem(Item(\"A_LeatherArmor\"))\r\nend\r\nshop:Show()\r\nshop:Save()"
														},
														"Children": [
															{
																"IsState": true,
																"IsLink": true,
																"LinkTarget": "DebugMenu"
															}
														]
													},
													{
														"IsState": false,
														"IsLink": false,
														"Title": "Save Game (Checkpoint)",
														"Highlight": false,
														"ButtonWidth": 1.0,
														"Children": [
															{
																"IsState": true,
																"IsLink": false,
																"ScriptAction": {
																	"!Type": "ScriptDataInline",
																	"Script": "LogRaw(\"Capturing checkpoint...\")\r\nSaveData.TakeCheckpoint()"
																},
																"Children": [
																	{
																		"IsState": false,
																		"IsLink": false,
																		"Title": "Continue",
																		"Tooltip": "Continue from checkpoint.",
																		"Highlight": false,
																		"ButtonWidth": 1.0,
																		"Children": [
																			{
																				"IsState": true,
																				"IsLink": true,
																				"LinkTarget": "SysTestsRoot"
																			}
																		]
																	}
																]
															}
														]
													},
													{
														"IsState": false,
														"IsLink": false,
														"Title": "Save Game (Choice)",
														"Highlight": false,
														"ButtonWidth": 1.0,
														"ScriptAction": {
															"!Type": "ScriptDataInline",
															"Script": "LogRaw(\"Capturing Save A\")\r\nSaveData.ShowSaveDialog()\r\nLogRaw(\"Restoring Save A\")"
														},
														"Children": [
															{
																"IsState": true,
																"IsLink": true,
																"LinkTarget": "Start"
															}
														]
													},
													{
														"IsState": false,
														"IsLink": false,
														"Title": "Save Game (State)",
														"Highlight": false,
														"ButtonWidth": 1.0,
														"Children": [
															{
																"IsState": true,
																"IsLink": false,
																"ScriptAction": {
																	"!Type": "ScriptDataInline",
																	"Script": "LogRaw(\"Capturing Save B\")\r\nSaveData.ShowSaveDialog()\r\nLogRaw(\"Restoring Save B\")"
																},
																"Children": [
																	{
																		"IsState": false,
																		"IsLink": false,
																		"Title": "Continue",
																		"Tooltip": "Continue from save data.",
																		"Highlight": false,
																		"ButtonWidth": 1.0,
																		"Children": [
																			{
																				"IsState": true,
																				"IsLink": true,
																				"LinkTarget": "Start"
																			}
																		]
																	}
																]
															}
														]
													}
												]
											}
										]
									}
								]
							}
						]
					}
				]
			}
		]
	}
}